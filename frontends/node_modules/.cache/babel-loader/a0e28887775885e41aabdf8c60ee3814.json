{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useEffect}from\"react\";import{useHistory}from\"react-router\";export var useRedirect=function useRedirect(userAuthStatus){var history=useHistory();useEffect(function(){var handleMount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/dj-rest-auth/token/refresh/\");case 3:if(userAuthStatus===\"loggedIn\"){history.push(\"/\");}_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);if(userAuthStatus===\"loggedOut\"){history.push(\"/\");}case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function handleMount(){return _ref.apply(this,arguments);};}();handleMount();},[history,userAuthStatus]);};","map":{"version":3,"names":["axios","useEffect","useHistory","useRedirect","userAuthStatus","history","handleMount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","push","t0","stop","apply","arguments"],"sources":["C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/src/hooks/useRedirect.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};"],"mappings":"wSAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,UAAU,KAAQ,cAAc,CAEzC,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,cAAc,CAAK,CAC7C,GAAM,CAAAC,OAAO,CAAGH,UAAU,EAAE,CAE5BD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAK,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEV,CAAAhB,KAAK,CAACiB,IAAI,CAAC,8BAA8B,CAAC,QAChD,GAAIb,cAAc,GAAK,UAAU,CAAE,CACjCC,OAAO,CAACa,IAAI,CAAC,GAAG,CAAC,CACnB,CAACJ,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAED,GAAIV,cAAc,GAAK,WAAW,CAAE,CAClCC,OAAO,CAACa,IAAI,CAAC,GAAG,CAAC,CACnB,CAAC,wBAAAJ,QAAA,CAAAM,IAAA,MAAAT,OAAA,gBAEJ,kBAXK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAWhB,CAEDhB,WAAW,EAAE,CACf,CAAC,CAAE,CAACD,OAAO,CAAED,cAAc,CAAC,CAAC,CAC/B,CAAC"},"metadata":{},"sourceType":"module"}