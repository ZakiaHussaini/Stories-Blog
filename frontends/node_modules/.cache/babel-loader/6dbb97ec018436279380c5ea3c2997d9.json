{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import styles from\"../../styles/SignInUpForm.module.css\";import btnStyles from\"../../styles/Button.module.css\";import appStyles from\"../../App.module.css\";import{Form,Button,Col,Row,Container,Alert}from\"react-bootstrap\";import axios from\"axios\";import{useRedirect}from\"../../hooks/useRedirect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpForm=function SignUpForm(){var _errors$username,_errors$password,_errors$password2,_errors$non_field_err;useRedirect(\"loggedIn\");var _useState=useState({username:\"\",password1:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),signUpData=_useState2[0],setSignUpData=_useState2[1];var username=signUpData.username,password1=signUpData.password1,password2=signUpData.password2;var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var history=useHistory();var handleChange=function handleChange(event){setSignUpData(_objectSpread(_objectSpread({},signUpData),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _err$response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/dj_rest_auth/registration/\",signUpData);case 4:history.push(\"/signin\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setErrors((_err$response=_context.t0.response)===null||_err$response===void 0?void 0:_err$response.data);case 10:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Row,{className:styles.Row,children:/*#__PURE__*/_jsxs(Col,{className:\"my-auto py-2 p-md-2\",md:12,children:[/*#__PURE__*/_jsxs(Container,{className:\"\".concat(appStyles.Content,\" \").concat(styles.content,\" p-4 \"),children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.Header,children:\"sign up\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"username\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"d-none\",children:\"username\"}),/*#__PURE__*/_jsx(Form.Control,{className:styles.Input,type:\"text\",placeholder:\"Username\",name:\"username\",value:username,onChange:handleChange})]}),(_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.map(function(message,idx){return/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:message},idx);}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password1\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"d-none\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:styles.Input,type:\"password\",placeholder:\"Password\",name:\"password1\",value:password1,onChange:handleChange})]}),(_errors$password=errors.password1)===null||_errors$password===void 0?void 0:_errors$password.map(function(message,idx){return/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:message},idx);}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password2\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"d-none\",children:\"Confirm password\"}),/*#__PURE__*/_jsx(Form.Control,{className:styles.Input,type:\"password\",placeholder:\"Confirm password\",name:\"password2\",value:password2,onChange:handleChange})]}),(_errors$password2=errors.password2)===null||_errors$password2===void 0?void 0:_errors$password2.map(function(message,idx){return/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:message},idx);}),/*#__PURE__*/_jsx(Button,{className:\"\".concat(btnStyles.Button,\" \").concat(btnStyles.Wide,\" \").concat(styles.Bright,\" mt-3\"),type:\"submit\",children:\"Sign up\"}),(_errors$non_field_err=errors.non_field_errors)===null||_errors$non_field_err===void 0?void 0:_errors$non_field_err.map(function(message,idx){return/*#__PURE__*/_jsx(Alert,{variant:\"warning\",className:\"mt-3\",children:message},idx);})]})]}),/*#__PURE__*/_jsx(Container,{className:\"mt-3 \".concat(appStyles.Content,\" \").concat(styles.content),children:/*#__PURE__*/_jsxs(Link,{className:styles.Link,to:\"/signin\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{children:\"Sign in\"})]})})]})});};export default SignUpForm;","map":{"version":3,"names":["React","useState","Link","useHistory","styles","btnStyles","appStyles","Form","Button","Col","Row","Container","Alert","axios","useRedirect","jsx","_jsx","jsxs","_jsxs","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","_useState","username","password1","password2","_useState2","_slicedToArray","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","history","handleChange","event","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_err$response","wrap","_callee$","_context","prev","next","preventDefault","post","push","t0","response","data","stop","_x","apply","arguments","className","children","md","concat","Content","content","Header","onSubmit","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","variant","Wide","Bright","non_field_errors","to"],"sources":["C:/Users/Zakia hussaini/Desktop/Stories-Blog/frontends/src/pages/auth/SignUpFrom.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\"\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport {\r\n  Form,\r\n  Button,\r\n  Col, \r\n  Row,\r\n  Container,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignUpForm = () => {\r\n  useRedirect(\"loggedIn\");\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const { username, password1, password2 } = signUpData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\"/dj_rest_auth/registration/\", signUpData);\r\n      history.push(\"/signin\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto py-2 p-md-2\" md={12}>\r\n        <Container className={`${appStyles.Content} ${styles.content} p-4 `}>\r\n          <h1 className={styles.Header}>sign up</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">username</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password1\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password1\"\r\n                value={password1}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password2\">\r\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                name=\"password2\"\r\n                value={password2}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${styles.Bright} mt-3`}\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n\r\n        <Container className={`mt-3 ${appStyles.Content} ${styles.content}`}>\r\n          <Link className={styles.Link} to=\"/signin\">\r\n            Already have an account? <span>Sign in</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}