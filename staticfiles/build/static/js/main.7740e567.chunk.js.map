{"version":3,"sources":["styles/Asset.module.css","styles/NotFound.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/NavBar.jsx","hooks/useRedirect.js","pages/auth/SignUpFrom.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","assets/upload.png","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","contexts/ProfileDataContext.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/posts/PostPage.js","assets/no-results.png","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","components/NotFound.js","App.js","reportWebVitals.js","index.js","App.module.css","styles/NavBar.module.css","styles/SignInUpForm.module.css","styles/Post.module.css","styles/CommentCreateEditForm.module.css","styles/PostCreateEditForm.module.css","styles/MoreDropdown.module.css","styles/Comment.module.css","styles/PostsPage.module.css","styles/Profile.module.css","styles/ProfilePage.module.css","styles/Avatar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","fetchMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resource","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","get","sent","prevResource","_objectSpread","results","reduce","acc","cur","some","accResult","id","concat","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","followers_count","is_owner","following_count","unfollowHelper","setTokenTimestamp","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTokenTimestamp","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","_useClickOutsideToggl","handleSignOut","addPostIcon","item","NavLink","activeClassName","Active","to","loggedInIcons","_Fragment","onClick","profile_id","profile_image","username","loggedOutIcons","Navbar","expand","fixed","Container","NavContainer","Brand","logo","Toggle","Collapse","Nav","exact","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","password1","password2","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Row","Col","md","appStyles","Content","content","Header","Form","onSubmit","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignInForm","password","signInData","setSignInData","_yield$axios$post","user","goBack","Asset","spinner","Spinner","animation","PostCreateForm","_errors$title","_errors$content","_errors$image","categories","setCategories","_useState5","title","image","category","_useState6","postData","setPostData","imageInput","then","catch","error","formData","_yield$axiosReq$post","_err$response2","FormData","append","files","textFields","as","rows","Blue","lg","Image","rounded","htmlFor","File","accept","length","URL","revokeObjectURL","createObjectURL","ThreeDots","React","forwardRef","e","MoreDropdown","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","ProfileEditDropdown","Absolute","Post","props","owner","comments_count","likes_count","like_id","updated_at","setPosts","postPage","showFullContent","setShowFullContent","pk","saved","delete","handleLike","_yield$axiosRes$post","prevPosts","handleUnlike","_callee4","_context4","truncatedContent","slice","Card","Body","Media","PostDetails","more","Title","Text","contents","truncated","readmore","Img","PostBar","OverlayTrigger","placement","overlay","Tooltip","Heart","HeartOutline","style","color","CommentCreateForm","setPost","setComments","profileImage","setContent","prevComments","prevPost","InputGroup","disabled","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","put","comment","Comment","showEditForm","filter","mainDiv","Owner","Date","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","Profile","mobile","_props$imageSize","imageSize","_useSetProfileData","WordBreak","BlackOutline","PopularProfiles","PostPage","useParams","comments","_yield$Promise$all","_yield$Promise$all2","_post","_comments","all","console","log","InfiniteScroll","dataLength","loader","hasMore","desktop","PostsPage","_ref$filter","posts","hasLoaded","setHasLoaded","pathname","useLocation","_useState7","_useState8","selectedCategory","setSelectedCategory","_useState9","_useState10","query","setQuery","_useState11","_useState12","selectedCategoryIndex","setSelectedCategoryIndex","handleCategoryClick","categoryId","url","fetchPosts","_yield$axiosReq$get2","fetchCategories","_yield$axiosReq$get3","timer","setTimeout","clearTimeout","SearchIcon","SearchBar","Slider","slidesToShow","slidesToScroll","initialSlide","afterChange","NoResults","PostEditForm","_title","_content","_image","_imageInput$current","ProfilePage","profilePosts","setProfilePosts","fetchData","_pageProfile","_profilePosts","mainProfile","noGutters","ProfileImage","roundedCircle","profContainer","xs","posts_count","Black","mainProfilePosts","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","imageFile","_name","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","fluid","NotFound","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.7740e567.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__2f_m7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"NotFound_NotFound__1ojKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__EZmsG\",\"Wide\":\"Button_Wide__1fqJ7\",\"Blue\":\"Button_Blue__eRv-g\",\"BlueOutline\":\"Button_BlueOutline__32SLl\",\"Bright\":\"Button_Bright__2d3Wd\",\"Black\":\"Button_Black__2EqKw\",\"BlackOutline\":\"Button_BlackOutline__umK9A\"};","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = '/api';\r\n\r\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();","import { axiosReq } from \"../api/axiosDefaults\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\n\r\nexport const fetchMoreData = async (resource, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resource.next);\r\n    setResource((prevResource) => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: data.results.reduce((acc, cur) => {\r\n        return acc.some((accResult) => accResult.id === cur.id)\r\n          ? acc\r\n          : [...acc, cur];\r\n      }, prevResource.results),\r\n    }));\r\n  } catch (err) {}\r\n};\r\n\r\n\r\nexport const followHelper = (profile, clickedProfile, following_id) => {\r\n    return profile.id === clickedProfile.id\r\n      ? \r\n        {\r\n          ...profile,\r\n          followers_count: profile.followers_count + 1,\r\n          following_id,\r\n        }\r\n      : profile.is_owner\r\n      ? \r\n        { ...profile, following_count: profile.following_count + 1 }\r\n      : \r\n        profile;\r\n  };\r\n\r\n  export const unfollowHelper = (profile, clickedProfile) => {\r\n    return profile.id === clickedProfile.id\r\n      ? \r\n        {\r\n          ...profile,\r\n          followers_count: profile.followers_count - 1,\r\n          following_id: null,\r\n        }\r\n      : profile.is_owner\r\n      ? \r\n        { ...profile, following_count: profile.following_count - 1 }\r\n      : \r\n        profile;\r\n  };\r\n\r\n\r\n\r\n  export const setTokenTimestamp = (data) => {\r\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\r\n    localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\r\n  };\r\n  \r\n  export const shouldRefreshToken = () => {\r\n    return !!localStorage.getItem(\"refreshTokenTimestamp\");\r\n  };\r\n  \r\n  export const removeTokenTimestamp = () => {\r\n    localStorage.removeItem(\"refreshTokenTimestamp\");\r\n  };","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router\";\r\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        if (shouldRefreshToken()) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp()\r\n            return config;\r\n          }\r\n        }\r\n        \r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp()\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\nconst Avatar = ({ src, height = 45, text }) => {\r\n  return (\r\n    <span>\r\n      <img\r\n        className={styles.Avatar}\r\n        src={src}\r\n        height={height}\r\n        width={height}\r\n        alt=\"avatar\"\r\n      />\r\n      {text}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Avatar;","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = () => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mouseup\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;","import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport styles from \"../styles/NavBar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport Avatar from \"./Avatar\";\r\nimport axios from \"axios\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\nimport { removeTokenTimestamp } from \"../utils/utils\";\r\n\r\nconst NavBar = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await axios.post(\"dj-rest-auth/logout/\");\r\n      setCurrentUser(null);\r\n      removeTokenTimestamp();\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  \r\n  const addPostIcon = (\r\n    <div className={styles.item}>\r\n      <NavLink\r\n      className={styles.NavLink}\r\n      activeClassName={styles.Active}\r\n      to=\"/posts/create\"\r\n    >\r\n      <i className=\"far fa-plus-square\"></i>Add Story\r\n    </NavLink>\r\n    </div>\r\n  );\r\n  const loggedInIcons = (\r\n    <>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/feed\"\r\n      >\r\n        <i className=\"fas fa-stream\"></i>Feed\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/liked\"\r\n      >\r\n        <i className=\"fas fa-heart\"></i>Liked\r\n      </NavLink>\r\n      </div>\r\n\r\n      {/* save post */}\r\n\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/saved\"\r\n      >\r\n        <i className=\"fas fa-save\"></i>Saved\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>Sign out\r\n      </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        to={`/profiles/${currentUser?.profile_id}`}\r\n      >\r\n        <Avatar src={currentUser?.profile_image} text={currentUser?.username} height={40} />\r\n      </NavLink>\r\n      </div>\r\n    </>\r\n  );\r\n  const loggedOutIcons = (\r\n    <>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signin\"\r\n      >\r\n        <i className=\"fas fa-sign-in-alt\"></i>Sign in\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        to=\"/signup\"\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n      >\r\n        <i className=\"fas fa-user-plus\"></i>Sign up\r\n      </NavLink>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Navbar\r\n      expanded={expanded}\r\n      className={styles.NavBar}\r\n      expand=\"md\"\r\n      fixed=\"top\"\r\n      \r\n    >\r\n      <Container className={`${styles.NavContainer} align-items-center`}>\r\n        <NavLink to=\"/\">\r\n          <Navbar.Brand className={styles.logo}>\r\n            Story blog\r\n          </Navbar.Brand>\r\n        </NavLink>\r\n        {currentUser && addPostIcon}\r\n        <Navbar.Toggle\r\n          ref={ref}\r\n          onClick={() => setExpanded(!expanded)}\r\n          aria-controls=\"basic-navbar-nav\"\r\n        />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"ml-auto text-left\">\r\n           <div className={styles.item}>\r\n           <NavLink\r\n              exact\r\n              className={styles.NavLink}\r\n              activeClassName={styles.Active}\r\n              to=\"/\"\r\n            >\r\n              <i className=\"fas fa-home\"></i>Home\r\n            </NavLink>\r\n           </div>\r\n\r\n            {currentUser ? loggedInIcons : loggedOutIcons}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavBar;","import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\"\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport {\r\n  Form,\r\n  Button,\r\n  Col, \r\n  Row,\r\n  Container,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignUpForm = () => {\r\n  useRedirect(\"loggedIn\");\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const { username, password1, password2 } = signUpData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\r\n      history.push(\"/signin\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto py-2 p-md-2\" md={12}>\r\n        <Container className={`${appStyles.Content} ${styles.content} p-4 `}>\r\n          <h1 className={styles.Header}>sign up</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">username</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password1\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password1\"\r\n                value={password1}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password2\">\r\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                name=\"password2\"\r\n                value={password2}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${styles.Bright} mt-3`}\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n\r\n        <Container className={`mt-3 ${appStyles.Content} ${styles.content}`}>\r\n          <Link className={styles.Link} to=\"/signin\">\r\n            Already have an account? <span>Sign in</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\nimport { setTokenTimestamp } from \"../../utils/utils\";\r\n\r\nfunction SignInForm() {\r\n  const setCurrentUser = useSetCurrentUser();\r\n  useRedirect(\"loggedIn\");\r\n\r\n\r\n  const [signInData, setSignInData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const { username, password } = signInData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\r\n      setCurrentUser(data.user);\r\n      setTokenTimestamp(data)\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSignInData({\r\n      ...signInData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto p-0 p-md-2\" md={12}>\r\n        <Container className={`${appStyles.Content}  ${styles.content} p-4 `}>\r\n          <h1 className={styles.Header}>sign in</h1>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                className={styles.Input}\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                className={styles.Input}\r\n                value={password}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${styles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign in\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content} ${styles.content}`}>\r\n          <Link className={styles.Link} to=\"/signup\">\r\n            Don't have an account? <span>Sign up now!</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      \r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SignInForm;","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && <Spinner animation=\"border\" />}\r\n      {src && <img src={src} alt={message} />}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport axios from 'axios';\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport Upload from \"../../assets/upload.png\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nfunction PostCreateForm() {\r\n  useRedirect(\"loggedOut\");\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [categories, setCategories] = useState([]);\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    category: \"\", \r\n  });\r\n\r\n  const { title, content, image, category } = postData;\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/categories/\")\r\n      .then(response => {\r\n        setCategories(response.data.results);\r\n      })\r\n      .catch(error => {\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(image);\r\n      setPostData({\r\n        ...postData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"category\", category); \r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    formData.append(\"image\", imageInput.current.files[0]);\r\n\r\n    try {\r\n      const { data } = await axiosReq.post(\"/posts/\", formData);\r\n      history.push(`/posts/${data.id}`);\r\n    } catch (err) {\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group>\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Form.Group>\r\n        <Form.Label>Category</Form.Label>\r\n        <Form.Control\r\n          as=\"select\"\r\n          name=\"category\"\r\n          value={category}\r\n          onChange={handleChange}\r\n        >\r\n          <option value=\"\">Select a category</option>\r\n          {categories.map((category) => (\r\n            <option key={category.id} value={category.id}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          rows={6}\r\n          name=\"content\"\r\n          value={content}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        create\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              {image ? (\r\n                <>\r\n                  <figure>\r\n<Image className={appStyles.Image} src={image} rounded />\r\n                  </figure>\r\n                  <div>\r\n                    <Form.Label\r\n                      className={`${btnStyles.Button} ${btnStyles.Blue} btn`}\r\n                      htmlFor=\"image-upload\"\r\n                    >\r\n                      Change the image\r\n                    </Form.Label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Form.Label\r\n                  className=\"d-flex justify-content-center\"\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  <Asset\r\n                    src={Upload}\r\n                    message=\"Click or tap to upload an image\"\r\n                  />\r\n                </Form.Label>\r\n              )}\r\n\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            {errors?.image?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostCreateForm;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport styles from \"../styles/MoreDropdown.module.css\"\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className=\"fas fa-ellipsis-v\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n  return (\r\n    <Dropdown className=\"ml-auto\" drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleEdit}\r\n          aria-label=\"edit\"\r\n        >\r\n          <i className=\"fas fa-edit\" />\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleDelete}\r\n          aria-label=\"delete\"\r\n        >\r\n          <i className=\"fas fa-trash-alt\" />\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\n\r\nexport const ProfileEditDropdown = ({ id }) => {\r\n    const history = useHistory();\r\n    return (\r\n      <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\r\n        <Dropdown.Toggle as={ThreeDots} />\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit`)}\r\n            aria-label=\"edit-profile\"\r\n          >\r\n            <i className=\"fas fa-edit\" /> edit profile\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit/username`)}\r\n            aria-label=\"edit-username\"\r\n          >\r\n            <i className=\"far fa-id-card\" />\r\n            change username\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit/password`)}\r\n            aria-label=\"edit-password\"\r\n          >\r\n            <i className=\"fas fa-key\" />\r\n            change password\r\n          </Dropdown.Item>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  };","import React, { useState } from \"react\";\r\nimport styles from \"../../styles/Post.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Card, Media, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\r\nimport { MoreDropdown } from '../../components/MoreDropdown'\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\n\r\nconst Post = (props) => {\r\n  const {\r\n    post,\r\n    id,\r\n    owner,\r\n    profile_id,\r\n    profile_image,\r\n    comments_count,\r\n    likes_count,\r\n    like_id,\r\n    title,\r\n    content,\r\n    image,\r\n    updated_at,\r\n    setPosts,\r\n    postPage,\r\n  } = props;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n  const history = useHistory();\r\n  const [showFullContent, setShowFullContent] = useState(false);\r\n  const MAX_CONTENT_LENGTH = 150;\r\n  const user_id = currentUser?.pk\r\n\r\n  // save\r\n  const [saved, setSaved] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n\r\n  \r\n\r\n  const savePost = async () => {\r\n    console.log(user_id, post.id,'saved post')\r\n\r\n    try {\r\n      if (saved) {\r\n        await axiosReq.delete(`/saved-posts/unsave/${user_id}/${post.id}/`);\r\n      } else {\r\n        await axiosReq.post(`/saved-posts/save/${user_id}/${post.id}/`);\r\n      }\r\n\r\n      setSaved((prevSaved) => !prevSaved);\r\n\r\n      setMessage(saved ? 'Post unsaved!' : 'Post saved!');\r\n\r\n      setTimeout(() => {\r\n        setMessage('');\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleEdit = () => {\r\n    history.push(`/posts/${id}/edit`);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/posts/${id}/`);\r\n      history.goBack();\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/likes/\", { post: id });\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const handleUnlike = async () => {\r\n    try {\r\n      await axiosRes.delete(`/likes/${like_id}/`);\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? { ...post, likes_count: post.likes_count - 1, like_id: null }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const truncatedContent = showFullContent \r\n    ? content\r\n    : content && content.slice(0, MAX_CONTENT_LENGTH);\r\n\r\n  return (\r\n    <Card className={styles.Post}>\r\n      <Card.Body>\r\n        \r\n        <Media >\r\n        <div className={styles.PostDetails}>\r\n        <div className={`${styles.more}`} >\r\n            {is_owner && postPage && (\r\n              <MoreDropdown handleEdit={handleEdit} handleDelete={handleDelete} />\r\n            )}\r\n            </div>\r\n          <div className={styles.profile}>\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profile_image} height={55} />\r\n            {owner}\r\n          </Link>\r\n          <span>{updated_at}</span>\r\n          </div>\r\n          \r\n          </div>\r\n        </Media>\r\n        \r\n\r\n\r\n      </Card.Body>\r\n      <Card.Body>\r\n        {title && <Card.Title className={`${styles.title} text-center`}>{title}</Card.Title>}\r\n        <Card.Text className={`${styles.contents} ${showFullContent ? \"\" : styles.truncated}`}>\r\n          {truncatedContent}\r\n          {content && content.length > MAX_CONTENT_LENGTH && (\r\n            <span className={styles.readmore} onClick={() => setShowFullContent(!showFullContent)}>\r\n              {showFullContent ? \"Read Less\" : \"Read More\"}\r\n            </span>\r\n          )}\r\n        </Card.Text>\r\n        <Link to={`/posts/${id}`}>\r\n          <Card.Img src={image} alt={title} />\r\n        </Link>\r\n        <div className={styles.PostBar}>\r\n          {is_owner ? (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You can't like your own post!</Tooltip>}\r\n            >\r\n              <i className=\"far fa-heart\" />\r\n            </OverlayTrigger>\r\n          ) : like_id ? (\r\n            <span onClick={handleUnlike}>\r\n              <i className={`fas fa-heart ${styles.Heart}`} />\r\n            </span>\r\n          ) : currentUser ? (\r\n            <span onClick={handleLike}>\r\n              <i className={`far fa-heart ${styles.HeartOutline}`} />\r\n            </span>\r\n          ) : (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>Log in to like posts!</Tooltip>}\r\n            >\r\n              <i className=\"far fa-heart\" />\r\n            </OverlayTrigger>\r\n          )}\r\n          {likes_count}\r\n          <Link to={`/posts/${id}`}>\r\n            <i className=\"far fa-comments\" />\r\n          </Link>\r\n          {comments_count}\r\n\r\n\r\n{/* save */}\r\n\r\n\r\n        {saved ? (<>\r\n        <i className=\"fas fa-save\"  style={{ color: 'gray' }}></i> \r\n        unSave\r\n        </>) : (\r\n          <>\r\n        <i className=\"fas fa-save\"  style={{ color: 'outline gray' }}></i>Save\r\n        </>)}\r\n      {message && <p>{message}</p>}\r\n  \r\n\r\n\r\n\r\n\r\n\r\n         \r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nfunction CommentCreateForm(props) {\r\n  const { post, setPost, setComments, profileImage, profile_id } = props;\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await axiosRes.post(\"/comments/\", {\r\n        content,\r\n        post,\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: [data, ...prevComments.results],\r\n      }));\r\n      setPost((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count + 1,\r\n          },\r\n        ],\r\n      }));\r\n      setContent(\"\");\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n      <Form.Group>\r\n        <InputGroup>\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profileImage} />\r\n          </Link>\r\n          <Form.Control\r\n            className={styles.Form}\r\n            placeholder=\"my comment...\"\r\n            as=\"textarea\"\r\n            value={content}\r\n            onChange={handleChange}\r\n            rows={2}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n      <button\r\n        className={`${styles.Button} btn d-block ml-auto`}\r\n        disabled={!content.trim()}\r\n        type=\"submit\"\r\n      >\r\n        post\r\n      </button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentCreateForm;","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\n\r\nfunction CommentEditForm(props) {\r\n  const { id, content, setShowEditForm, setComments } = props;\r\n\r\n  const [formContent, setFormContent] = useState(content);\r\n\r\n  const handleChange = (event) => {\r\n    setFormContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(`/comments/${id}/`, {\r\n        content: formContent.trim(),\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.map((comment) => {\r\n          return comment.id === id\r\n            ? {\r\n                ...comment,\r\n                content: formContent.trim(),\r\n                updated_at: \"now\",\r\n              }\r\n            : comment;\r\n        }),\r\n      }));\r\n      setShowEditForm(false);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"pr-1\">\r\n        <Form.Control\r\n          className={styles.Form}\r\n          as=\"textarea\"\r\n          value={formContent}\r\n          onChange={handleChange}\r\n          rows={2}\r\n        />\r\n      </Form.Group>\r\n      <div className=\"text-right\">\r\n        <button\r\n          className={styles.Button}\r\n          onClick={() => setShowEditForm(false)}\r\n          type=\"button\"\r\n        >\r\n          cancel\r\n        </button>\r\n        <button\r\n          className={styles.Button}\r\n          disabled={!content.trim()}\r\n          type=\"submit\"\r\n        >\r\n          save\r\n        </button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentEditForm;","import React, { useState } from \"react\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\nimport CommentEditForm from \"./CommentEditForm\";\r\n\r\nimport styles from \"../../styles/Comment.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\n\r\nconst Comment = (props) => {\r\n  const { profile_id, profile_image, owner, id, updated_at,\r\n     content, setComments, setPost } = props;\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/comments/${id}/`);\r\n      setPost((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count - 1,\r\n          },\r\n        ],\r\n      }));\r\n\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.filter((comment) => comment.id !== id),\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <hr />\r\n      <Media className={styles.mainDiv}>\r\n      <div>\r\n      {is_owner && !showEditForm && (\r\n          <MoreDropdown\r\n            handleEdit={() => setShowEditForm(true)}\r\n            handleDelete={handleDelete}\r\n          />\r\n        )}\r\n      </div>\r\n       <div>\r\n       <Link to={`/profiles/${profile_id}`}>\r\n          <Avatar src={profile_image} />\r\n        </Link>\r\n       </div>\r\n        <Media.Body className=\"align-self-center ml-2\">\r\n          <div>\r\n          <span className={styles.Owner}>{owner}</span>\r\n          <span className={styles.Date}>{updated_at}</span>\r\n          </div>\r\n          {showEditForm ? (\r\n            <CommentEditForm\r\n              id={id}\r\n              profile_id={profile_id}\r\n              content={content}\r\n              profileImage={profile_image}\r\n              setComments={setComments}\r\n              setShowEditForm={setShowEditForm}\r\n            />\r\n          ) : (\r\n           <div> <p>{content}</p></div>\r\n          )}\r\n          \r\n        </Media.Body>\r\n        \r\n      </Media>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\r\n\r\nconst ProfileDataContext = createContext();\r\nconst SetProfileDataContext = createContext();\r\n\r\nexport const useProfileData = () => useContext(ProfileDataContext);\r\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\r\n\r\nexport const ProfileDataProvider = ({ children }) => {\r\n  const [profileData, setProfileData] = useState({\r\n    \r\n    pageProfile: { results: [] },\r\n    popularProfiles: { results: [] },\r\n  });\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  const handleFollow = async (clickedProfile) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/followers/\", {\r\n        followed: clickedProfile.id,\r\n      });\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async (clickedProfile) => {\r\n    try {\r\n      await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\r\n          \"/profiles/?ordering=-followers_count\"\r\n        );\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          popularProfiles: data,\r\n        }));\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <ProfileDataContext.Provider value={profileData}>\r\n      <SetProfileDataContext.Provider\r\n        value={{ setProfileData, handleFollow, handleUnfollow }}\r\n      >\r\n        {children}\r\n      </SetProfileDataContext.Provider>\r\n    </ProfileDataContext.Provider>\r\n  );\r\n};","import React from \"react\";\r\nimport styles from \"../../styles/Profile.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst Profile = (props) => {\r\n  const { profile, mobile, imageSize = 55 } = props;\r\n  const { id, following_id, image, owner } = profile;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n  const { handleFollow, handleUnfollow  } = useSetProfileData();\r\n\r\n  return (\r\n    <div\r\n      className={`my-3 d-flex align-items-center ${mobile && \"flex-column\"}`}\r\n    >\r\n      <div>\r\n        <Link className=\"align-self-center\" to={`/profiles/${id}`}>\r\n          <Avatar src={image} height={imageSize} />\r\n        </Link>\r\n      </div>\r\n      <div className={`mx-2 ${styles.WordBreak} ${styles.name}`}>\r\n        <strong>{owner} </strong>\r\n      </div>\r\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n        {!mobile &&\r\n          currentUser &&\r\n          !is_owner &&\r\n          (following_id ? (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n              onClick={() => handleUnfollow(profile)}\r\n            >\r\n              unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Bright}`}\r\n              onClick={() => handleFollow(profile)}\r\n            >\r\n              follow\r\n            </Button>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst PopularProfiles = ({ mobile }) => {\r\n  const { popularProfiles } = useProfileData();\r\n\r\n  return (\r\n    <Container\r\n      className={`${appStyles.Content} ${\r\n        mobile && \"d-lg-none text-center mb-3\"\r\n      }`}\r\n    >\r\n      {popularProfiles.results.length ? (\r\n        <>\r\n          <p>Most followed profiles.</p>\r\n          {mobile ? (\r\n            <div className=\"d-flex justify-content-around\">\r\n              {popularProfiles.results.slice(0, 4).map((profile) => (\r\n                <Profile key={profile.id} profile={profile} mobile />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            popularProfiles.results.map((profile) => (\r\n              <Profile key={profile.id} profile={profile} />\r\n            ))\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PopularProfiles;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Post from \"./Post\";\r\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport Comment from \"../comments/Comment\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\n\r\n\r\nfunction PostPage() {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState({ results: [] });\r\n\r\n  const currentUser = useCurrentUser();\r\n  const profile_image = currentUser?.profile_image;\r\n  const [comments, setComments] = useState({ results: [] });\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const [{ data: post }, { data: comments }] = await Promise.all([\r\n          axiosReq.get(`/posts/${id}`),\r\n          axiosReq.get(`/comments/?post=${id}`),\r\n        ]);\r\n        setPost({ results: [post] });\r\n        setComments(comments);\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [id, comments]);\r\n\r\n\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n    <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n    <PopularProfiles mobile />\r\n      <Post {...post.results[0]} setPost={setPost}  postPage />\r\n      <Container className={appStyles.Content}>\r\n        {currentUser ? (\r\n          <CommentCreateForm\r\n            profile_id={currentUser.profile_id}\r\n            profileImage={profile_image}\r\n            post={id}\r\n            setPost={setPost}\r\n            setComments={setComments}\r\n          />\r\n        ) : comments.results.length ? (\r\n          \"Comments\"\r\n        ) : null}\r\n        {comments.results.length ? (\r\n          <InfiniteScroll\r\n            children={comments.results.map((comment) => (\r\n              <Comment\r\n                key={comment.id}\r\n                {...comment}\r\n                setPost={setPost}\r\n                setComments={setComments}\r\n              />\r\n            ))}\r\n            dataLength={comments.results.length}\r\n            loader={<Asset spinner />}\r\n            hasMore={!!comments.next}\r\n            next={() => fetchMoreData(comments, setComments)}\r\n          />\r\n        ) : currentUser ? (\r\n          <span>No comments yet, be the first to comment!</span>\r\n        ) : (\r\n          <span>No comments... yet</span>\r\n        )}\r\n      </Container>\r\n    </Col>\r\n    <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n    <PopularProfiles desktop />\r\n    </Col>\r\n  </Row>\r\n  );\r\n}\r\n\r\nexport default PostPage;","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Asset from \"../../components/Asset\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NoResults from \"../../assets/no-results.png\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport Post from \"./Post\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport styles from \"../../styles/PostsPage.module.css\";\r\nimport '../../styles/Slider.css';\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\n\r\n\r\nfunction PostsPage({ message, filter = \"\" }) {\r\n  const [posts, setPosts] = useState({ results: [] });\r\n  const [categories, setCategories] = useState([]);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const { pathname } = useLocation();\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selectedCategoryIndex, setSelectedCategoryIndex] = useState(0);\r\n  const currentUser = useCurrentUser();\r\n\r\n\r\n  const handleCategoryClick = async (categoryId) => {\r\n    setSelectedCategory(categoryId);\r\n    setSelectedCategoryIndex(categoryId ? 1 : 0);\r\n\r\n    try {\r\n      let url = \"/posts/\";\r\n      if (categoryId) {\r\n        url = `/categories/${categoryId}/posts/`;\r\n      }\r\n      const { data } = await axiosReq.get(`${url}?${filter}search=${query}`);\r\n      setPosts(data);\r\n      setHasLoaded(true);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        let url = \"/posts/\";\r\n        if (selectedCategory) {\r\n          url = `/categories/${selectedCategory}/posts/`;\r\n        }\r\n        const { data } = await axiosReq.get(`${url}?${filter}search=${query}`);\r\n        setPosts(data);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\"/categories/\");\r\n        setCategories(data.results);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    setHasLoaded(false);\r\n    const timer = setTimeout(() => {\r\n      fetchPosts();\r\n      fetchCategories();\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [filter, query, selectedCategory, pathname,currentUser]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n\r\n        <Form\r\n          className={styles.SearchBar}\r\n          onSubmit={(event) => event.preventDefault()}\r\n        >\r\n          <Form.Control\r\n            value={query}\r\n            onChange={(event) => setQuery(event.target.value)}\r\n            type=\"text\"\r\n            className=\"mr-sm-2\"\r\n            placeholder=\"Search stories\"\r\n          />\r\n        </Form>\r\n\r\n        <Slider\r\n          className={styles.categories}\r\n          slidesToShow={3}\r\n          slidesToScroll={1}\r\n          initialSlide={selectedCategoryIndex}\r\n          afterChange={setSelectedCategoryIndex}\r\n        >\r\n          <Link to=\"/\" onClick={() => handleCategoryClick(null)}>\r\n            <span>All</span>\r\n          </Link>\r\n          {categories.map((category) => (\r\n            <Link\r\n              key={category.id}\r\n              to={`/`}\r\n              onClick={() => handleCategoryClick(category.id)}\r\n            >\r\n              <span>{category.name}</span>\r\n            </Link>\r\n          ))}\r\n        </Slider>\r\n\r\n        {hasLoaded ? (\r\n          <>\r\n            {posts.results.length ? (\r\n              <InfiniteScroll\r\n                children={posts.results.map((post) => (\r\n                  <Post key={post.id} {...post} post={post} setPosts={setPosts} />\r\n                ))}\r\n                dataLength={posts.results.length}\r\n                loader={<Asset spinner />}\r\n                hasMore={!!posts.next}\r\n                next={() => fetchMoreData(posts, setPosts)}\r\n              />\r\n            ) : (\r\n              <Container className={appStyles.Content}>\r\n                <Asset src={NoResults} message={message} />\r\n              </Container>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostsPage;","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\n\r\nfunction PostEditForm() {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n  });\r\n  const { title, content, image } = postData;\r\n\r\n  const imageInput = useRef(null);\r\n  \r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/posts/${id}/`);\r\n        const { title, content, image, is_owner } = data;\r\n\r\n        is_owner ? setPostData({ title, content, image }) : history.push(\"/\");\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(image);\r\n      setPostData({\r\n        ...postData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n\r\n    if (imageInput?.current?.files[0]) {\r\n      formData.append(\"image\", imageInput.current.files[0]);\r\n    }\r\n\r\n    try {\r\n      await axiosReq.put(`/posts/${id}/`, formData);\r\n      history.push(`/posts/${id}`);\r\n    } catch (err) {\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group>\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Form.Group>\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          rows={6}\r\n          name=\"content\"\r\n          value={content}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              <figure>\r\n                <Image className={appStyles.Image} src={image} rounded />\r\n              </figure>\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            {errors?.image?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostEditForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport styles from \"../../styles/ProfilePage.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport PopularProfiles from \"./PopularProfiles\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useProfileData,\r\n  useSetProfileData,\r\n} from \"../../contexts/ProfileDataContext\";\r\nimport { Button, Image } from \"react-bootstrap\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Post from \"../posts/Post\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport NoResults from \"../../assets/no-results.png\";\r\nimport { ProfileEditDropdown } from \"../../components/MoreDropdown\";\r\n\r\n\r\n\r\n\r\nfunction ProfilePage() {\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [profilePosts, setProfilePosts] = useState({ results: [] });\r\n  const currentUser = useCurrentUser();\r\n  const { id } = useParams();\r\n\r\n  const { setProfileData, handleFollow ,handleUnfollow } = useSetProfileData();\r\n  const { pageProfile } = useProfileData();\r\n  const [profile] = pageProfile.results;\r\n  const is_owner = currentUser?.username === profile?.owner;\r\n\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [{ data: pageProfile }, { data: profilePosts }] =\r\n          await Promise.all([\r\n            axiosReq.get(`/profiles/${id}/`),\r\n            axiosReq.get(`/posts/?owner__profile=${id}`),\r\n          ]);\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          pageProfile: { results: [pageProfile] },\r\n        }));\r\n        setProfilePosts(profilePosts);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id, setProfileData]);\r\n\r\n\r\n  const mainProfile = (\r\n    <>\r\n    {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\r\n      <Row noGutters className=\"px-3 text-center\">\r\n        <Col lg={3} className=\"text-lg-left\">\r\n          <Image\r\n            className={styles.ProfileImage}\r\n            roundedCircle\r\n            src={profile?.image}\r\n          />\r\n        </Col>\r\n        <Col lg={6} >\r\n          <h3 className=\"m-2\">{profile?.owner}</h3>\r\n          <Row className={` ${styles.profContainer} justify-content-center no-gutters `}>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.posts_count}</div>\r\n              <div>stories</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.followers_count}</div>\r\n              <div>followers</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.following_count}</div>\r\n              <div>following</div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col lg={3} className=\"text-lg-right\">\r\n          {currentUser &&\r\n            !is_owner &&\r\n            (profile?.following_id ? (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n                onClick={() => handleUnfollow(profile)}\r\n              >\r\n                unfollow\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Black}`}\r\n                onClick={() => handleFollow(profile)}\r\n              >\r\n                follow\r\n              </Button>\r\n            ))}\r\n        </Col>\r\n        {profile?.content && <Col className=\"p-3\">{profile.content}</Col>}\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const mainProfilePosts = (\r\n    <>\r\n      <hr />\r\n      <p className=\"text-center\">{profile?.owner}'s stories</p>\r\n      <hr />\r\n      {profilePosts.results.length ? (\r\n        <InfiniteScroll\r\n          children={profilePosts.results.map((post) => (\r\n            <Post key={post.id} {...post} setPost={setProfilePosts} />\r\n          ))}\r\n          dataLength={profilePosts.results.length}\r\n          loader={<Asset spinner />}\r\n          hasMore={!!profilePosts.next}\r\n          next={() => fetchMoreData(profilePosts, setProfilePosts)}\r\n        />\r\n      ) : (\r\n        <Asset\r\n          src={NoResults}\r\n          message={`No results found, ${profile?.owner} hasn't posted yet.`}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <Container className={appStyles.Content}>\r\n          {hasLoaded ? (\r\n            <>\r\n              {mainProfile}\r\n              {mainProfilePosts}\r\n            </>\r\n          ) : (\r\n            <Asset spinner />\r\n          )}\r\n        </Container>\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UsernameForm = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() === id) {\r\n      setUsername(currentUser.username);\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\r\n        username,\r\n      });\r\n      setCurrentUser((prevUser) => ({\r\n        ...prevUser,\r\n        username,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit} className=\"my-2\">\r\n            <Form.Group>\r\n              <Form.Label>Change username</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              type=\"submit\"\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UserPasswordForm = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const currentUser = useCurrentUser();\r\n\r\n  const [userData, setUserData] = useState({\r\n    new_password1: \"\",\r\n    new_password2: \"\",\r\n  });\r\n  const { new_password1, new_password2 } = userData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    setUserData({\r\n      ...userData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() !== id) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>New password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"new password\"\r\n                type=\"password\"\r\n                value={new_password1}\r\n                onChange={handleChange}\r\n                name=\"new_password1\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Form.Group>\r\n              <Form.Label>Confirm password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"confirm new password\"\r\n                type=\"password\"\r\n                value={new_password2}\r\n                onChange={handleChange}\r\n                name=\"new_password2\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst ProfileEditForm = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const imageFile = useRef();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    name: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n  });\r\n  const { name, content, image } = profileData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      if (currentUser?.profile_id?.toString() === id) {\r\n        try {\r\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\r\n          const { name, content, image } = data;\r\n          setProfileData({ name, content, image });\r\n        } catch (err) {\r\n          history.push(\"/\");\r\n        }\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setProfileData({\r\n      ...profileData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"content\", content);\r\n\r\n    if (imageFile?.current?.files[0]) {\r\n      formData.append(\"image\", imageFile?.current?.files[0]);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\r\n      setCurrentUser((currentUser) => ({\r\n        ...currentUser,\r\n        profile_image: data.image,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <>\r\n      <Form.Group>\r\n        <Form.Label>Bio</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          value={content}\r\n          onChange={handleChange}\r\n          name=\"content\"\r\n          rows={7}\r\n        />\r\n      </Form.Group>\r\n\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\r\n          <Container className={appStyles.Content}>\r\n            <Form.Group>\r\n              {image && (\r\n                <figure>\r\n                  <Image src={image} fluid />\r\n                </figure>\r\n              )}\r\n              {errors?.image?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                  {message}\r\n                </Alert>\r\n              ))}\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                ref={imageFile}\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  if (e.target.files.length) {\r\n                    setProfileData({\r\n                      ...profileData,\r\n                      image: URL.createObjectURL(e.target.files[0]),\r\n                    });\r\n                  }\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProfileEditForm;","import React from \"react\";\r\nimport NoResults from \"../assets/no-results.png\";\r\nimport styles from \"../styles/NotFound.module.css\";\r\nimport Asset from \"./Asset\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className={styles.NotFound}>\r\n      <Asset\r\n        src={NoResults}\r\n        message={`Sorry, the page you're looking for doesn't exist`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;","import NavBar from './components/NavBar';\r\nimport styles from './App.module.css';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Route, Switch} from 'react-router-dom'\r\nimport \"./api/axiosDefaults\";\r\nimport SignUpForm from './pages/auth/SignUpFrom';\r\nimport SignInForm from './pages/auth/SignInForm';\r\nimport PostCreateForm from './pages/posts/PostCreateForm';\r\nimport PostPage from './pages/posts/PostPage';\r\nimport PostsPage from './pages/posts/PostsPage';\r\nimport { useCurrentUser } from './contexts/CurrentUserContext';\r\nimport PostEditForm from './pages/posts/PostEditForm';\r\nimport ProfilePage from './pages/profiles/ProfilePage';\r\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\r\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\r\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\r\nimport NotFound from './components/NotFound';\r\n\r\nfunction App() {\r\n const currentUser = useCurrentUser();\r\n const profile_id = currentUser?.profile_id || \"\";\r\n\r\n\r\n  return (\r\n    \r\n    <div className={styles.App}>\r\n      <NavBar />\r\n      <Container className={styles.Main} >\r\n      <Switch>\r\n      <Route exact path='/' render={() => <PostsPage message='No results found. Adjust the search keyword.' /> } />\r\n      <Route exact path=\"/feed\" render={() => ( <PostsPage message=\"No results found. Adjust the search keyword or follow a user.\"\r\n      filter={`owner__followed__owner__profile=${profile_id}&`} /> )} />\r\n      \r\n      <Route exact path=\"/saved\" render={() => ( <PostsPage message=\"No Post saved yet\"  /> )} />\r\n\r\n      <Route exact path=\"/liked\" render={() => ( <PostsPage message=\"No results found. Adjust the search keyword or like a post.\"\r\n      filter={`likes__owner__profile=${profile_id}&ordering=-likes__created_at&`} /> )} />\r\n      <Route exact path='/signin' render={() => <SignInForm /> } />\r\n      <Route exact path='/signup' render={() => <SignUpForm />} />\r\n      <Route exact path='/posts/create' render={() => <PostCreateForm /> } />\r\n      <Route exact path='/posts/:id' render={() => <PostPage /> } />\r\n      <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\r\n      <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\r\n      <Route exact path=\"/profiles/:id/edit/username\" render={() => <UsernameForm />} />\r\n      <Route exact path=\"/profiles/:id/edit/password\" render={() => <UserPasswordForm />} />\r\n      <Route exact path=\"/profiles/:id/edit\" render={() => <ProfileEditForm />} />\r\n      <Route render={() => <NotFound />} />\r\n      </Switch>\r\n      </Container>\r\n    </div>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\r\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\r\n\r\nReactDOM.render(\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <ProfileDataProvider>\r\n         <App />\r\n        </ProfileDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>,\r\n \r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1FeEq\",\"Main\":\"App_Main__2NHze\",\"Content\":\"App_Content__KjazA\",\"FillerImage\":\"App_FillerImage__Evwv-\",\"Image\":\"App_Image__MakEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__Reu5a\",\"NavContainer\":\"NavBar_NavContainer__aGNiF\",\"logo\":\"NavBar_logo__E-zH5\",\"NavLink\":\"NavBar_NavLink__1sU8K\",\"item\":\"NavBar_item__2oYRO\",\"Active\":\"NavBar_Active__vdmRk\",\"profile\":\"NavBar_profile__Y7-zT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3YVNT\",\"Input\":\"SignInUpForm_Input__2IcQX\",\"content\":\"SignInUpForm_content__1IBVr\",\"Header\":\"SignInUpForm_Header__1SCiE\",\"Bright\":\"SignInUpForm_Bright__37YMm\",\"Link\":\"SignInUpForm_Link__1pxY5\",\"Container\":\"SignInUpForm_Container__3OYYA\",\"SignInCol\":\"SignInUpForm_SignInCol__1hgQi\",\"SignUpCol\":\"SignInUpForm_SignUpCol__r6wMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__22Aux\",\"PostDetails\":\"Post_PostDetails__lEGgb\",\"title\":\"Post_title__4_9Tw\",\"more\":\"Post_more__2LofI\",\"contents\":\"Post_contents__3llD5\",\"profile\":\"Post_profile__1Qdjj\",\"readmore\":\"Post_readmore__3BRfs\",\"Heart\":\"Post_Heart__3JVWv\",\"HeartOutline\":\"Post_HeartOutline__19vJr\",\"saved\":\"Post_saved__23T_q\",\"savedOutline\":\"Post_savedOutline__5ja_K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__k5QRc\",\"Button\":\"CommentCreateEditForm_Button__1ZiVo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__3XvRB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__2STnT\",\"Absolute\":\"MoreDropdown_Absolute__vXwKZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__1LKBm\",\"Date\":\"Comment_Date__6ARWe\",\"mainDiv\":\"Comment_mainDiv__1BnJu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__1R1aO\",\"SearchIcon\":\"PostsPage_SearchIcon__29R8z\",\"categories\":\"PostsPage_categories__3MZII\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"Profile_WordBreak__1tyFV\",\"name\":\"Profile_name__3mFAN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage__1jj82\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__2dT4s\"};"],"sourceRoot":""}