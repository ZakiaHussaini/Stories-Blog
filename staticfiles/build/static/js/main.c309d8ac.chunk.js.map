{"version":3,"sources":["styles/Asset.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/NavBar.jsx","hooks/useRedirect.js","pages/auth/SignUpFrom.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","assets/upload.png","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","contexts/ProfileDataContext.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/posts/PostPage.js","assets/no-results.png","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","App.js","reportWebVitals.js","index.js","App.module.css","styles/NavBar.module.css","styles/SignInUpForm.module.css","styles/Post.module.css","styles/CommentCreateEditForm.module.css","styles/PostCreateEditForm.module.css","styles/MoreDropdown.module.css","styles/Comment.module.css","styles/PostsPage.module.css","styles/Profile.module.css","styles/ProfilePage.module.css","styles/Avatar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","fetchMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resource","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","get","sent","prevResource","_objectSpread","results","reduce","acc","cur","some","accResult","id","concat","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","followers_count","is_owner","following_count","unfollowHelper","setTokenTimestamp","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTokenTimestamp","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","_useClickOutsideToggl","handleSignOut","addPostIcon","item","NavLink","activeClassName","Active","to","loggedInIcons","_Fragment","onClick","profile_id","profile_image","loggedOutIcons","Navbar","expand","fixed","Container","NavContainer","Brand","logo","Toggle","Collapse","Nav","exact","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","username","password1","password2","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Row","Col","md","appStyles","Content","content","Header","Form","onSubmit","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignInForm","password","signInData","setSignInData","_yield$axios$post","user","goBack","Asset","spinner","Spinner","animation","PostCreateForm","_errors$title","_errors$content","_errors$image","categories","setCategories","_useState5","title","image","category","_useState6","postData","setPostData","imageInput","then","catch","error","formData","_yield$axiosReq$post","_err$response2","FormData","append","files","textFields","as","rows","Blue","lg","Image","rounded","htmlFor","File","accept","length","URL","revokeObjectURL","createObjectURL","ThreeDots","React","forwardRef","e","MoreDropdown","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","ProfileEditDropdown","Absolute","Post","props","owner","comment_count","like_count","like_id","updated_at","setStory","postPage","showFullContent","setShowFullContent","delete","handleLike","_yield$axiosRes$post","story","prevStories","likes_count","handleUnlike","truncatedContent","slice","Card","Body","Media","PostDetails","more","Title","Text","contents","truncated","readmore","Img","PostBar","OverlayTrigger","placement","overlay","Tooltip","Heart","HeartOutline","CommentCreateForm","setComments","profileImage","setContent","prevComments","prevPost","comments_count","InputGroup","disabled","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","put","comment","Comment","showEditForm","filter","mainDiv","Owner","Date","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","Profile","mobile","_props$imageSize","imageSize","_useSetProfileData","WordBreak","BlackOutline","PopularProfiles","PostPage","useParams","comments","_yield$Promise$all","_yield$Promise$all2","_story","_comments","all","InfiniteScroll","dataLength","loader","hasMore","desktop","PostsPage","_ref$filter","posts","setPosts","hasLoaded","setHasLoaded","pathname","useLocation","_useState7","_useState8","selectedCategory","setSelectedCategory","_useState9","_useState10","query","setQuery","_useState11","_useState12","selectedCategoryIndex","setSelectedCategoryIndex","handleCategoryClick","categoryId","url","fetchPosts","_yield$axiosReq$get2","fetchCategories","_yield$axiosReq$get3","timer","setTimeout","clearTimeout","SearchIcon","SearchBar","Slider","slidesToShow","slidesToScroll","initialSlide","afterChange","NoResults","PostEditForm","_title","_content","_image","_imageInput$current","ProfilePage","profilePosts","setProfilePosts","fetchData","_pageProfile","_profilePosts","mainProfile","noGutters","ProfileImage","roundedCircle","profContainer","xs","stories_count","Black","mainProfilePosts","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","imageFile","_name","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","fluid","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.c309d8ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__WLekp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1wdVL\",\"Wide\":\"Button_Wide__3E7eh\",\"Blue\":\"Button_Blue__f2Nuh\",\"BlueOutline\":\"Button_BlueOutline__21DoC\",\"Bright\":\"Button_Bright__3w2xr\",\"Black\":\"Button_Black__dwZeY\",\"BlackOutline\":\"Button_BlackOutline__3vOWI\"};","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"/api\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();","import { axiosReq } from \"../api/axiosDefaults\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\n\r\nexport const fetchMoreData = async (resource, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resource.next);\r\n    setResource((prevResource) => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: data.results.reduce((acc, cur) => {\r\n        return acc.some((accResult) => accResult.id === cur.id)\r\n          ? acc\r\n          : [...acc, cur];\r\n      }, prevResource.results),\r\n    }));\r\n  } catch (err) {}\r\n};\r\n\r\n\r\nexport const followHelper = (profile, clickedProfile, following_id) => {\r\n    return profile.id === clickedProfile.id\r\n      ? \r\n        {\r\n          ...profile,\r\n          followers_count: profile.followers_count + 1,\r\n          following_id,\r\n        }\r\n      : profile.is_owner\r\n      ? \r\n        { ...profile, following_count: profile.following_count + 1 }\r\n      : \r\n        profile;\r\n  };\r\n\r\n  export const unfollowHelper = (profile, clickedProfile) => {\r\n    return profile.id === clickedProfile.id\r\n      ? \r\n        {\r\n          ...profile,\r\n          followers_count: profile.followers_count - 1,\r\n          following_id: null,\r\n        }\r\n      : profile.is_owner\r\n      ? \r\n        { ...profile, following_count: profile.following_count - 1 }\r\n      : \r\n        profile;\r\n  };\r\n\r\n\r\n\r\n  export const setTokenTimestamp = (data) => {\r\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\r\n    localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\r\n  };\r\n  \r\n  export const shouldRefreshToken = () => {\r\n    return !!localStorage.getItem(\"refreshTokenTimestamp\");\r\n  };\r\n  \r\n  export const removeTokenTimestamp = () => {\r\n    localStorage.removeItem(\"refreshTokenTimestamp\");\r\n  };","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router\";\r\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        if (shouldRefreshToken()) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp()\r\n            return config;\r\n          }\r\n        }\r\n        \r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp()\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\nconst Avatar = ({ src, height = 45, text }) => {\r\n  return (\r\n    <span>\r\n      <img\r\n        className={styles.Avatar}\r\n        src={src}\r\n        height={height}\r\n        width={height}\r\n        alt=\"avatar\"\r\n      />\r\n      {text}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Avatar;","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = () => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mouseup\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;","import React from \"react\";\r\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\r\nimport styles from \"../styles/NavBar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport Avatar from \"./Avatar\";\r\nimport axios from \"axios\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\nimport { removeTokenTimestamp } from \"../utils/utils\";\r\n\r\nconst NavBar = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await axios.post(\"dj-rest-auth/logout/\");\r\n      setCurrentUser(null);\r\n      removeTokenTimestamp();\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const addPostIcon = (\r\n    <div className={styles.item}>\r\n      <NavLink\r\n      className={styles.NavLink}\r\n      activeClassName={styles.Active}\r\n      to=\"/stories/create\"\r\n    >\r\n      <i className=\"far fa-plus-square\"></i>Add Story\r\n    </NavLink>\r\n    </div>\r\n  );\r\n  const loggedInIcons = (\r\n    <>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/feed\"\r\n      >\r\n        <i className=\"fas fa-stream\"></i>Feed\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/liked\"\r\n      >\r\n        <i className=\"fas fa-heart\"></i>Liked\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>Sign out\r\n      </NavLink>\r\n      </div>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        to={`/profiles/${currentUser?.profile_id}`}\r\n      >\r\n        <Avatar src={currentUser?.profile_image} text=\"Profile\" height={40} />\r\n      </NavLink>\r\n      </div>\r\n    </>\r\n  );\r\n  const loggedOutIcons = (\r\n    <>\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signin\"\r\n      >\r\n        <i className=\"fas fa-sign-in-alt\"></i>Sign in\r\n      </NavLink>\r\n      </div>\r\n\r\n      <div className={styles.item}>\r\n      <NavLink\r\n        to=\"/signup\"\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n      >\r\n        <i className=\"fas fa-user-plus\"></i>Sign up\r\n      </NavLink>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Navbar\r\n      expanded={expanded}\r\n      className={styles.NavBar}\r\n      expand=\"md\"\r\n      fixed=\"top\"\r\n      \r\n    >\r\n      <Container className={`${styles.NavContainer} align-items-center`}>\r\n        <NavLink to=\"/\">\r\n          <Navbar.Brand className={styles.logo}>\r\n            Story blog\r\n          </Navbar.Brand>\r\n        </NavLink>\r\n        {currentUser && addPostIcon}\r\n        <Navbar.Toggle\r\n          ref={ref}\r\n          onClick={() => setExpanded(!expanded)}\r\n          aria-controls=\"basic-navbar-nav\"\r\n        />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"ml-auto text-left\">\r\n           <div className={styles.item}>\r\n           <NavLink\r\n              exact\r\n              className={styles.NavLink}\r\n              activeClassName={styles.Active}\r\n              to=\"/\"\r\n            >\r\n              <i className=\"fas fa-home\"></i>Home\r\n            </NavLink>\r\n           </div>\r\n\r\n            {currentUser ? loggedInIcons : loggedOutIcons}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavBar;","import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\"\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport {\r\n  Form,\r\n  Button,\r\n  Col, \r\n  Row,\r\n  Container,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignUpForm = () => {\r\n  useRedirect(\"loggedIn\");\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const { username, password1, password2 } = signUpData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\"/dj_rest_auth/registration/\", signUpData);\r\n      history.push(\"/signin\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto py-2 p-md-2\" md={12}>\r\n        <Container className={`${appStyles.Content} ${styles.content} p-4 `}>\r\n          <h1 className={styles.Header}>sign up</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">username</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password1\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password1\"\r\n                value={password1}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password2\">\r\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                name=\"password2\"\r\n                value={password2}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${styles.Bright} mt-3`}\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n\r\n        <Container className={`mt-3 ${appStyles.Content} ${styles.content}`}>\r\n          <Link className={styles.Link} to=\"/signin\">\r\n            Already have an account? <span>Sign in</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\nimport { setTokenTimestamp } from \"../../utils/utils\";\r\n\r\nfunction SignInForm() {\r\n  const setCurrentUser = useSetCurrentUser();\r\n  useRedirect(\"loggedIn\");\r\n\r\n\r\n  const [signInData, setSignInData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const { username, password } = signInData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\r\n      setCurrentUser(data.user);\r\n      setTokenTimestamp(data)\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSignInData({\r\n      ...signInData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto p-0 p-md-2\" md={12}>\r\n        <Container className={`${appStyles.Content}  ${styles.content} p-4 `}>\r\n          <h1 className={styles.Header}>sign in</h1>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                className={styles.Input}\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                className={styles.Input}\r\n                value={password}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${styles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign in\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content} ${styles.content}`}>\r\n          <Link className={styles.Link} to=\"/signup\">\r\n            Don't have an account? <span>Sign up now!</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      \r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SignInForm;","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && <Spinner animation=\"border\" />}\r\n      {src && <img src={src} alt={message} />}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport axios from 'axios';\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport Upload from \"../../assets/upload.png\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nfunction PostCreateForm() {\r\n  useRedirect(\"loggedOut\");\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [categories, setCategories] = useState([]);\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    category: \"\", \r\n  });\r\n\r\n  const { title, content, image, category } = postData;\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/categories/\")\r\n      .then(response => {\r\n        setCategories(response.data.results);\r\n      })\r\n      .catch(error => {\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(image);\r\n      setPostData({\r\n        ...postData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"category\", category); \r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    formData.append(\"image\", imageInput.current.files[0]);\r\n\r\n    try {\r\n      const { data } = await axiosReq.post(\"/stories/\", formData);\r\n      history.push(`/stories/${data.id}`);\r\n    } catch (err) {\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group>\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Form.Group>\r\n        <Form.Label>Category</Form.Label>\r\n        <Form.Control\r\n          as=\"select\"\r\n          name=\"category\"\r\n          value={category}\r\n          onChange={handleChange}\r\n        >\r\n          <option value=\"\">Select a category</option>\r\n          {categories.map((category) => (\r\n            <option key={category.id} value={category.id}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          rows={6}\r\n          name=\"content\"\r\n          value={content}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        create\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              {image ? (\r\n                <>\r\n                  <figure>\r\n<Image className={appStyles.Image} src={image} rounded />\r\n                  </figure>\r\n                  <div>\r\n                    <Form.Label\r\n                      className={`${btnStyles.Button} ${btnStyles.Blue} btn`}\r\n                      htmlFor=\"image-upload\"\r\n                    >\r\n                      Change the image\r\n                    </Form.Label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Form.Label\r\n                  className=\"d-flex justify-content-center\"\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  <Asset\r\n                    src={Upload}\r\n                    message=\"Click or tap to upload an image\"\r\n                  />\r\n                </Form.Label>\r\n              )}\r\n\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            {errors?.image?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostCreateForm;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport styles from \"../styles/MoreDropdown.module.css\"\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className=\"fas fa-ellipsis-v\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n  return (\r\n    <Dropdown className=\"ml-auto\" drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleEdit}\r\n          aria-label=\"edit\"\r\n        >\r\n          <i className=\"fas fa-edit\" />\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleDelete}\r\n          aria-label=\"delete\"\r\n        >\r\n          <i className=\"fas fa-trash-alt\" />\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\n\r\nexport const ProfileEditDropdown = ({ id }) => {\r\n    const history = useHistory();\r\n    return (\r\n      <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\r\n        <Dropdown.Toggle as={ThreeDots} />\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit`)}\r\n            aria-label=\"edit-profile\"\r\n          >\r\n            <i className=\"fas fa-edit\" /> edit profile\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit/username`)}\r\n            aria-label=\"edit-username\"\r\n          >\r\n            <i className=\"far fa-id-card\" />\r\n            change username\r\n          </Dropdown.Item>\r\n          <Dropdown.Item\r\n            onClick={() => history.push(`/profiles/${id}/edit/password`)}\r\n            aria-label=\"edit-password\"\r\n          >\r\n            <i className=\"fas fa-key\" />\r\n            change password\r\n          </Dropdown.Item>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  };","import React, { useState } from \"react\";\r\nimport styles from \"../../styles/Post.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Card, Media, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { MoreDropdown } from '../../components/MoreDropdown'\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nconst Post = (props) => {\r\n  const {\r\n    id,\r\n    owner,\r\n    profile_id,\r\n    profile_image,\r\n    comment_count,\r\n    like_count,\r\n    like_id,\r\n    title,\r\n    content,\r\n    image,\r\n    updated_at,\r\n    setStory,\r\n    postPage,\r\n  } = props;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n  const history = useHistory();\r\n  const [showFullContent, setShowFullContent] = useState(false);\r\n  const MAX_CONTENT_LENGTH = 150;\r\n\r\n  const handleEdit = () => {\r\n    history.push(`/stories/${id}/edit`);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/stories/${id}/`);\r\n      history.goBack();\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/likes/\", { story: id });\r\n      setStory((prevStories) => ({\r\n        ...prevStories,\r\n        results: prevStories.results.map((story) => {\r\n          return story.id === id\r\n            ? { ...story, likes_count: story.likes_count + 1, like_id: data.id }\r\n            : story;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const handleUnlike = async () => {\r\n    try {\r\n      await axiosRes.delete(`/likes/${like_id}/`);\r\n      setStory((prevStories) => ({\r\n        ...prevStories,\r\n        results: prevStories.results.map((story) => {\r\n          return story.id === id\r\n            ? { ...story, like_count: story.like_count - 1, like_id: null }\r\n            : story;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const truncatedContent = showFullContent \r\n    ? content\r\n    : content && content.slice(0, MAX_CONTENT_LENGTH);\r\n\r\n  return (\r\n    <Card className={styles.Post}>\r\n      <Card.Body>\r\n        \r\n        <Media >\r\n        <div className={styles.PostDetails}>\r\n        <div className={`${styles.more}`} >\r\n            {is_owner && postPage && (\r\n              <MoreDropdown handleEdit={handleEdit} handleDelete={handleDelete} />\r\n            )}\r\n            </div>\r\n          <div className={styles.profile}>\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profile_image} height={55} />\r\n            {owner}\r\n          </Link>\r\n          <span>{updated_at}</span>\r\n          </div>\r\n          \r\n          </div>\r\n        </Media>\r\n        \r\n\r\n\r\n      </Card.Body>\r\n      <Card.Body>\r\n        {title && <Card.Title className={`${styles.title} text-center`}>{title}</Card.Title>}\r\n        <Card.Text className={`${styles.contents} ${showFullContent ? \"\" : styles.truncated}`}>\r\n          {truncatedContent}\r\n          {content && content.length > MAX_CONTENT_LENGTH && (\r\n            <span className={styles.readmore} onClick={() => setShowFullContent(!showFullContent)}>\r\n              {showFullContent ? \"Read Less\" : \"Read More\"}\r\n            </span>\r\n          )}\r\n        </Card.Text>\r\n        <Link to={`/stories/${id}`}>\r\n          <Card.Img src={image} alt={title} />\r\n        </Link>\r\n        <div className={styles.PostBar}>\r\n          {is_owner ? (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You can't like your own post!</Tooltip>}\r\n            >\r\n              <i className=\"far fa-heart\" />\r\n            </OverlayTrigger>\r\n          ) : like_id ? (\r\n            <span onClick={handleUnlike}>\r\n              <i className={`fas fa-heart ${styles.Heart}`} />\r\n            </span>\r\n          ) : currentUser ? (\r\n            <span onClick={handleLike}>\r\n              <i className={`far fa-heart ${styles.HeartOutline}`} />\r\n            </span>\r\n          ) : (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>Log in to like posts!</Tooltip>}\r\n            >\r\n              <i className=\"far fa-heart\" />\r\n            </OverlayTrigger>\r\n          )}\r\n          {like_count}\r\n          <Link to={`/stories/${id}`}>\r\n            <i className=\"far fa-comments\" />\r\n          </Link>\r\n          {comment_count}\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nfunction CommentCreateForm(props) {\r\n  const { story, setStory, setComments, profileImage, profile_id } = props;\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await axiosRes.post(\"/comments/\", {\r\n        content,\r\n        story,\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: [data, ...prevComments.results],\r\n      }));\r\n      setStory((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count + 1,\r\n          },\r\n        ],\r\n      }));\r\n      setContent(\"\");\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n      <Form.Group>\r\n        <InputGroup>\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profileImage} />\r\n          </Link>\r\n          <Form.Control\r\n            className={styles.Form}\r\n            placeholder=\"my comment...\"\r\n            as=\"textarea\"\r\n            value={content}\r\n            onChange={handleChange}\r\n            rows={2}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n      <button\r\n        className={`${styles.Button} btn d-block ml-auto`}\r\n        disabled={!content.trim()}\r\n        type=\"submit\"\r\n      >\r\n        post\r\n      </button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentCreateForm;","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\n\r\nfunction CommentEditForm(props) {\r\n  const { id, content, setShowEditForm, setComments } = props;\r\n\r\n  const [formContent, setFormContent] = useState(content);\r\n\r\n  const handleChange = (event) => {\r\n    setFormContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(`/comments/${id}/`, {\r\n        content: formContent.trim(),\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.map((comment) => {\r\n          return comment.id === id\r\n            ? {\r\n                ...comment,\r\n                content: formContent.trim(),\r\n                updated_at: \"now\",\r\n              }\r\n            : comment;\r\n        }),\r\n      }));\r\n      setShowEditForm(false);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"pr-1\">\r\n        <Form.Control\r\n          className={styles.Form}\r\n          as=\"textarea\"\r\n          value={formContent}\r\n          onChange={handleChange}\r\n          rows={2}\r\n        />\r\n      </Form.Group>\r\n      <div className=\"text-right\">\r\n        <button\r\n          className={styles.Button}\r\n          onClick={() => setShowEditForm(false)}\r\n          type=\"button\"\r\n        >\r\n          cancel\r\n        </button>\r\n        <button\r\n          className={styles.Button}\r\n          disabled={!content.trim()}\r\n          type=\"submit\"\r\n        >\r\n          save\r\n        </button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentEditForm;","import React, { useState } from \"react\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\nimport CommentEditForm from \"./CommentEditForm\";\r\n\r\nimport styles from \"../../styles/Comment.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\n\r\nconst Comment = (props) => {\r\n  const { profile_id, profile_image, owner, id, updated_at, content, setComments, setStory } = props;\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/comments/${id}/`);\r\n      setStory((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count - 1,\r\n          },\r\n        ],\r\n      }));\r\n\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.filter((comment) => comment.id !== id),\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <hr />\r\n      <Media className={styles.mainDiv}>\r\n      <div>\r\n      {is_owner && !showEditForm && (\r\n          <MoreDropdown\r\n            handleEdit={() => setShowEditForm(true)}\r\n            handleDelete={handleDelete}\r\n          />\r\n        )}\r\n      </div>\r\n       <div>\r\n       <Link to={`/profiles/${profile_id}`}>\r\n          <Avatar src={profile_image} />\r\n        </Link>\r\n       </div>\r\n        <Media.Body className=\"align-self-center ml-2\">\r\n          <div>\r\n          <span className={styles.Owner}>{owner}</span>\r\n          <span className={styles.Date}>{updated_at}</span>\r\n          </div>\r\n          {showEditForm ? (\r\n            <CommentEditForm\r\n              id={id}\r\n              profile_id={profile_id}\r\n              content={content}\r\n              profileImage={profile_image}\r\n              setComments={setComments}\r\n              setShowEditForm={setShowEditForm}\r\n            />\r\n          ) : (\r\n           <div> <p>{content}</p></div>\r\n          )}\r\n          \r\n        </Media.Body>\r\n        \r\n      </Media>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\r\n\r\nconst ProfileDataContext = createContext();\r\nconst SetProfileDataContext = createContext();\r\n\r\nexport const useProfileData = () => useContext(ProfileDataContext);\r\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\r\n\r\nexport const ProfileDataProvider = ({ children }) => {\r\n  const [profileData, setProfileData] = useState({\r\n    \r\n    pageProfile: { results: [] },\r\n    popularProfiles: { results: [] },\r\n  });\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  const handleFollow = async (clickedProfile) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/followers/\", {\r\n        followed: clickedProfile.id,\r\n      });\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async (clickedProfile) => {\r\n    try {\r\n      await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\r\n          \"/profiles/?ordering=-followers_count\"\r\n        );\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          popularProfiles: data,\r\n        }));\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <ProfileDataContext.Provider value={profileData}>\r\n      <SetProfileDataContext.Provider\r\n        value={{ setProfileData, handleFollow, handleUnfollow }}\r\n      >\r\n        {children}\r\n      </SetProfileDataContext.Provider>\r\n    </ProfileDataContext.Provider>\r\n  );\r\n};","import React from \"react\";\r\nimport styles from \"../../styles/Profile.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst Profile = (props) => {\r\n  const { profile, mobile, imageSize = 55 } = props;\r\n  const { id, following_id, image, owner } = profile;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n  const { handleFollow, handleUnfollow  } = useSetProfileData();\r\n\r\n  return (\r\n    <div\r\n      className={`my-3 d-flex align-items-center ${mobile && \"flex-column\"}`}\r\n    >\r\n      <div>\r\n        <Link className=\"align-self-center\" to={`/profiles/${id}`}>\r\n          <Avatar src={image} height={imageSize} />\r\n        </Link>\r\n      </div>\r\n      <div className={`mx-2 ${styles.WordBreak} ${styles.name}`}>\r\n        <strong>{owner}</strong>\r\n      </div>\r\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n        {!mobile &&\r\n          currentUser &&\r\n          !is_owner &&\r\n          (following_id ? (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n              onClick={() => handleUnfollow(profile)}\r\n            >\r\n              unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Bright}`}\r\n              onClick={() => handleFollow(profile)}\r\n            >\r\n              follow\r\n            </Button>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst PopularProfiles = ({ mobile }) => {\r\n  const { popularProfiles } = useProfileData();\r\n\r\n  return (\r\n    <Container\r\n      className={`${appStyles.Content} ${\r\n        mobile && \"d-lg-none text-center mb-3\"\r\n      }`}\r\n    >\r\n      {popularProfiles.results.length ? (\r\n        <>\r\n          <p>Most followed profiles.</p>\r\n          {mobile ? (\r\n            <div className=\"d-flex justify-content-around\">\r\n              {popularProfiles.results.slice(0, 4).map((profile) => (\r\n                <Profile key={profile.id} profile={profile} mobile />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            popularProfiles.results.map((profile) => (\r\n              <Profile key={profile.id} profile={profile} />\r\n            ))\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PopularProfiles;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Post from \"./Post\";\r\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport Comment from \"../comments/Comment\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\n\r\n\r\nfunction PostPage() {\r\n  const { id } = useParams();\r\n  const [story, setStory] = useState({ results: [] });\r\n\r\n  const currentUser = useCurrentUser();\r\n  const profile_image = currentUser?.profile_image;\r\n  const [comments, setComments] = useState({ results: [] });\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const [{ data: story }, { data: comments }] = await Promise.all([\r\n          axiosReq.get(`/stories/${id}`),\r\n          axiosReq.get(`/comments/?story=${id}`),\r\n        ]);\r\n        setStory({ results: [story] });\r\n        setComments(comments);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [id]);\r\n\r\n\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n    <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n    <PopularProfiles mobile />\r\n      <Post {...story.results[0]} setStory={setStory} postPage />\r\n      <Container className={appStyles.Content}>\r\n        {currentUser ? (\r\n          <CommentCreateForm\r\n            profile_id={currentUser.profile_id}\r\n            profileImage={profile_image}\r\n            story={id}\r\n            setStory={setStory}\r\n            setComments={setComments}\r\n          />\r\n        ) : comments.results.length ? (\r\n          \"Comments\"\r\n        ) : null}\r\n        {comments.results.length ? (\r\n          <InfiniteScroll\r\n            children={comments.results.map((comment) => (\r\n              <Comment\r\n                key={comment.id}\r\n                {...comment}\r\n                setStory={setStory}\r\n                setComments={setComments}\r\n              />\r\n            ))}\r\n            dataLength={comments.results.length}\r\n            loader={<Asset spinner />}\r\n            hasMore={!!comments.next}\r\n            next={() => fetchMoreData(comments, setComments)}\r\n          />\r\n        ) : currentUser ? (\r\n          <span>No comments yet, be the first to comment!</span>\r\n        ) : (\r\n          <span>No comments... yet</span>\r\n        )}\r\n      </Container>\r\n    </Col>\r\n    <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n    <PopularProfiles desktop />\r\n    </Col>\r\n  </Row>\r\n  );\r\n}\r\n\r\nexport default PostPage;","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Asset from \"../../components/Asset\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NoResults from \"../../assets/no-results.png\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport Post from \"./Post\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport styles from \"../../styles/PostsPage.module.css\";\r\nimport '../../styles/Slider.css';\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\n\r\n\r\nfunction PostsPage({ message, filter = \"\" }) {\r\n  const [posts, setPosts] = useState({ results: [] });\r\n  const [categories, setCategories] = useState([]);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const { pathname } = useLocation();\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selectedCategoryIndex, setSelectedCategoryIndex] = useState(0);\r\n  const currentUser = useCurrentUser();\r\n\r\n\r\n  const handleCategoryClick = async (categoryId) => {\r\n    setSelectedCategory(categoryId);\r\n    setSelectedCategoryIndex(categoryId ? 1 : 0);\r\n\r\n    try {\r\n      let url = \"/stories/\";\r\n      if (categoryId) {\r\n        url = `/categories/${categoryId}/stories/`;\r\n      }\r\n      const { data } = await axiosReq.get(`${url}?${filter}search=${query}`);\r\n      setPosts(data);\r\n      setHasLoaded(true);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        let url = \"/stories/\";\r\n        if (selectedCategory) {\r\n          url = `/categories/${selectedCategory}/stories/`;\r\n        }\r\n        const { data } = await axiosReq.get(`${url}?${filter}search=${query}`);\r\n        setPosts(data);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\"/categories/\");\r\n        setCategories(data.results);\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    setHasLoaded(false);\r\n    const timer = setTimeout(() => {\r\n      fetchPosts();\r\n      fetchCategories();\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [filter, query, selectedCategory, pathname,currentUser]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n\r\n        <Form\r\n          className={styles.SearchBar}\r\n          onSubmit={(event) => event.preventDefault()}\r\n        >\r\n          <Form.Control\r\n            value={query}\r\n            onChange={(event) => setQuery(event.target.value)}\r\n            type=\"text\"\r\n            className=\"mr-sm-2\"\r\n            placeholder=\"Search stories\"\r\n          />\r\n        </Form>\r\n\r\n        <Slider\r\n          className={styles.categories}\r\n          slidesToShow={3}\r\n          slidesToScroll={1}\r\n          initialSlide={selectedCategoryIndex}\r\n          afterChange={setSelectedCategoryIndex}\r\n        >\r\n          <Link to=\"/\" onClick={() => handleCategoryClick(null)}>\r\n            <span>All</span>\r\n          </Link>\r\n          {categories.map((category) => (\r\n            <Link\r\n              key={category.id}\r\n              to={`/`}\r\n              onClick={() => handleCategoryClick(category.id)}\r\n            >\r\n              <span>{category.name}</span>\r\n            </Link>\r\n          ))}\r\n        </Slider>\r\n\r\n        {hasLoaded ? (\r\n          <>\r\n            {posts.results.length ? (\r\n              <InfiniteScroll\r\n                children={posts.results.map((post) => (\r\n                  <Post key={post.id} {...post} setPosts={setPosts} />\r\n                ))}\r\n                dataLength={posts.results.length}\r\n                loader={<Asset spinner />}\r\n                hasMore={!!posts.next}\r\n                next={() => fetchMoreData(posts, setPosts)}\r\n              />\r\n            ) : (\r\n              <Container className={appStyles.Content}>\r\n                <Asset src={NoResults} message={message} />\r\n              </Container>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostsPage;","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Image from \"react-bootstrap/Image\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\n\r\nfunction PostEditForm() {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n  });\r\n  const { title, content, image } = postData;\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/stories/${id}/`);\r\n        const { title, content, image, is_owner } = data;\r\n\r\n        is_owner ? setPostData({ title, content, image }) : history.push(\"/\");\r\n      } catch (err) {\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(image);\r\n      setPostData({\r\n        ...postData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n\r\n    if (imageInput?.current?.files[0]) {\r\n      formData.append(\"image\", imageInput.current.files[0]);\r\n    }\r\n\r\n    try {\r\n      await axiosReq.put(`/stories/${id}/`, formData);\r\n      history.push(`/stories/${id}`);\r\n    } catch (err) {\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group>\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Form.Group>\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          rows={6}\r\n          name=\"content\"\r\n          value={content}\r\n          onChange={handleChange}\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              <figure>\r\n                <Image className={appStyles.Image} src={image} rounded />\r\n              </figure>\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            {errors?.image?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostEditForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport styles from \"../../styles/ProfilePage.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport PopularProfiles from \"./PopularProfiles\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useParams } from \"react-router\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useProfileData,\r\n  useSetProfileData,\r\n} from \"../../contexts/ProfileDataContext\";\r\nimport { Button, Image } from \"react-bootstrap\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport Post from \"../posts/Post\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport NoResults from \"../../assets/no-results.png\";\r\nimport { ProfileEditDropdown } from \"../../components/MoreDropdown\";\r\n\r\n\r\n\r\n\r\nfunction ProfilePage() {\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [profilePosts, setProfilePosts] = useState({ results: [] });\r\n  const currentUser = useCurrentUser();\r\n  const { id } = useParams();\r\n\r\n  const { setProfileData, handleFollow ,handleUnfollow } = useSetProfileData();\r\n  const { pageProfile } = useProfileData();\r\n  const [profile] = pageProfile.results;\r\n  const is_owner = currentUser?.username === profile?.owner;\r\n\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [{ data: pageProfile }, { data: profilePosts }] =\r\n          await Promise.all([\r\n            axiosReq.get(`/profiles/${id}/`),\r\n            axiosReq.get(`/stories/?owner__profile=${id}`),\r\n          ]);\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          pageProfile: { results: [pageProfile] },\r\n        }));\r\n        setProfilePosts(profilePosts);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id, setProfileData]);\r\n\r\n\r\n  const mainProfile = (\r\n    <>\r\n    {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\r\n      <Row noGutters className=\"px-3 text-center\">\r\n        <Col lg={3} className=\"text-lg-left\">\r\n          <Image\r\n            className={styles.ProfileImage}\r\n            roundedCircle\r\n            src={profile?.image}\r\n          />\r\n        </Col>\r\n        <Col lg={6} >\r\n          <h3 className=\"m-2\">{profile?.owner}</h3>\r\n          <Row className={` ${styles.profContainer} justify-content-center no-gutters `}>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.stories_count}</div>\r\n              <div>stories</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.followers_count}</div>\r\n              <div>followers</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2\">\r\n              <div>{profile?.following_count}</div>\r\n              <div>following</div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col lg={3} className=\"text-lg-right\">\r\n          {currentUser &&\r\n            !is_owner &&\r\n            (profile?.following_id ? (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n                onClick={() => handleUnfollow(profile)}\r\n              >\r\n                unfollow\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Black}`}\r\n                onClick={() => handleFollow(profile)}\r\n              >\r\n                follow\r\n              </Button>\r\n            ))}\r\n        </Col>\r\n        {profile?.content && <Col className=\"p-3\">{profile.content}</Col>}\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const mainProfilePosts = (\r\n    <>\r\n      <hr />\r\n      <p className=\"text-center\">{profile?.owner}'s stories</p>\r\n      <hr />\r\n      {profilePosts.results.length ? (\r\n        <InfiniteScroll\r\n          children={profilePosts.results.map((story) => (\r\n            <Post key={story.id} {...story} setStory={setProfilePosts} />\r\n          ))}\r\n          dataLength={profilePosts.results.length}\r\n          loader={<Asset spinner />}\r\n          hasMore={!!profilePosts.next}\r\n          next={() => fetchMoreData(profilePosts, setProfilePosts)}\r\n        />\r\n      ) : (\r\n        <Asset\r\n          src={NoResults}\r\n          message={`No results found, ${profile?.owner} hasn't posted yet.`}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <Container className={appStyles.Content}>\r\n          {hasLoaded ? (\r\n            <>\r\n              {mainProfile}\r\n              {mainProfilePosts}\r\n            </>\r\n          ) : (\r\n            <Asset spinner />\r\n          )}\r\n        </Container>\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UsernameForm = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() === id) {\r\n      setUsername(currentUser.username);\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\r\n        username,\r\n      });\r\n      setCurrentUser((prevUser) => ({\r\n        ...prevUser,\r\n        username,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit} className=\"my-2\">\r\n            <Form.Group>\r\n              <Form.Label>Change username</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              type=\"submit\"\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UserPasswordForm = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const currentUser = useCurrentUser();\r\n\r\n  const [userData, setUserData] = useState({\r\n    new_password1: \"\",\r\n    new_password2: \"\",\r\n  });\r\n  const { new_password1, new_password2 } = userData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    setUserData({\r\n      ...userData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() !== id) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>New password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"new password\"\r\n                type=\"password\"\r\n                value={new_password1}\r\n                onChange={handleChange}\r\n                name=\"new_password1\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Form.Group>\r\n              <Form.Label>Confirm password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"confirm new password\"\r\n                type=\"password\"\r\n                value={new_password2}\r\n                onChange={handleChange}\r\n                name=\"new_password2\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst ProfileEditForm = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const imageFile = useRef();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    name: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n  });\r\n  const { name, content, image } = profileData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      if (currentUser?.profile_id?.toString() === id) {\r\n        try {\r\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\r\n          const { name, content, image } = data;\r\n          setProfileData({ name, content, image });\r\n        } catch (err) {\r\n          history.push(\"/\");\r\n        }\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setProfileData({\r\n      ...profileData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"content\", content);\r\n\r\n    if (imageFile?.current?.files[0]) {\r\n      formData.append(\"image\", imageFile?.current?.files[0]);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\r\n      setCurrentUser((currentUser) => ({\r\n        ...currentUser,\r\n        image: data.image,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <>\r\n      <Form.Group>\r\n        <Form.Label>Bio</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          value={content}\r\n          onChange={handleChange}\r\n          name=\"content\"\r\n          rows={7}\r\n        />\r\n      </Form.Group>\r\n\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\r\n          <Container className={appStyles.Content}>\r\n            <Form.Group>\r\n              {image && (\r\n                <figure>\r\n                  <Image src={image} fluid />\r\n                </figure>\r\n              )}\r\n              {errors?.image?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                  {message}\r\n                </Alert>\r\n              ))}\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                ref={imageFile}\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  if (e.target.files.length) {\r\n                    setProfileData({\r\n                      ...profileData,\r\n                      image: URL.createObjectURL(e.target.files[0]),\r\n                    });\r\n                  }\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProfileEditForm;","import NavBar from './components/NavBar';\r\nimport styles from './App.module.css';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Route, Switch} from 'react-router-dom'\r\nimport \"./api/axiosDefaults\";\r\nimport SignUpForm from './pages/auth/SignUpFrom';\r\nimport SignInForm from './pages/auth/SignInForm';\r\nimport PostCreateForm from './pages/posts/PostCreateForm';\r\nimport PostPage from './pages/posts/PostPage';\r\nimport PostsPage from './pages/posts/PostsPage';\r\nimport { useCurrentUser } from './contexts/CurrentUserContext';\r\nimport PostEditForm from './pages/posts/PostEditForm';\r\nimport ProfilePage from './pages/profiles/ProfilePage';\r\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\r\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\r\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\r\n\r\nfunction App() {\r\n const currentUser = useCurrentUser();\r\n const profile_id = currentUser?.profile_id || \"\";\r\n\r\n\r\n  return (\r\n    \r\n    <div className={styles.App}>\r\n      <NavBar />\r\n      <Container className={styles.Main} >\r\n      <Switch>\r\n      <Route exact path='/' render={() => <PostsPage message='No results found. Adjust the search keyword.' /> } />\r\n      <Route exact path=\"/feed\" render={() => ( <PostsPage message=\"No results found. Adjust the search keyword or follow a user.\"\r\n      filter={`owner__followed__owner__profile=${profile_id}&`} /> )} />\r\n      <Route exact path=\"/liked\" render={() => ( <PostsPage message=\"No results found. Adjust the search keyword or like a post.\"\r\n      filter={`like__owner__profile=${profile_id}&ordering=-like__created_at&`} /> )} />\r\n      <Route exact path='/signin' render={() => <SignInForm /> } />\r\n      <Route exact path='/signup' render={() => <SignUpForm />} />\r\n      <Route exact path='/stories/create' render={() => <PostCreateForm /> } />\r\n      <Route exact path='/stories/:id' render={() => <PostPage /> } />\r\n      <Route exact path=\"/stories/:id/edit\" render={() => <PostEditForm />} />\r\n      <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\r\n      <Route exact path=\"/profiles/:id/edit/username\" render={() => <UsernameForm />} />\r\n      <Route exact path=\"/profiles/:id/edit/password\" render={() => <UserPasswordForm />} />\r\n      <Route exact path=\"/profiles/:id/edit\" render={() => <ProfileEditForm />} />\r\n      <Route render={() => <p>Page not found!</p>} />  \r\n      </Switch>\r\n      </Container>\r\n    </div>\r\n   \r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\r\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\r\n\r\nReactDOM.render(\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <ProfileDataProvider>\r\n         <App />\r\n        </ProfileDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>,\r\n \r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2hHmt\",\"Main\":\"App_Main__39SLM\",\"Content\":\"App_Content__3qS4P\",\"FillerImage\":\"App_FillerImage__1R4BR\",\"Image\":\"App_Image__GPka0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__135WH\",\"NavContainer\":\"NavBar_NavContainer__3Ap8P\",\"logo\":\"NavBar_logo__3hx5f\",\"NavLink\":\"NavBar_NavLink__20qrc\",\"item\":\"NavBar_item__bwEhz\",\"Active\":\"NavBar_Active__2bx_l\",\"profile\":\"NavBar_profile__31dH4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__t0xE5\",\"Input\":\"SignInUpForm_Input__cVCPh\",\"content\":\"SignInUpForm_content__2Y4_G\",\"Header\":\"SignInUpForm_Header__ZHCDQ\",\"Bright\":\"SignInUpForm_Bright__1DSXm\",\"Link\":\"SignInUpForm_Link__3JA-r\",\"Container\":\"SignInUpForm_Container__30SfW\",\"SignInCol\":\"SignInUpForm_SignInCol__c_J5s\",\"SignUpCol\":\"SignInUpForm_SignUpCol__50P10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__1bO5h\",\"PostDetails\":\"Post_PostDetails__22ZTk\",\"title\":\"Post_title__1cdxn\",\"more\":\"Post_more__3SaEp\",\"contents\":\"Post_contents__1n_Kd\",\"profile\":\"Post_profile__1iG8s\",\"readmore\":\"Post_readmore__3QbRY\",\"Heart\":\"Post_Heart__woIQ0\",\"HeartOutline\":\"Post_HeartOutline__11B1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__v3eFh\",\"Button\":\"CommentCreateEditForm_Button__1X9Ao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__pNY-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__1DfRo\",\"Absolute\":\"MoreDropdown_Absolute__3PAOv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__11yuv\",\"Date\":\"Comment_Date__3NyWi\",\"mainDiv\":\"Comment_mainDiv__8jSzF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__QtXUR\",\"SearchIcon\":\"PostsPage_SearchIcon__X5gxm\",\"categories\":\"PostsPage_categories__3i_6s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"Profile_WordBreak__ppNFk\",\"name\":\"Profile_name__2ig0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage__15yl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__2xeiD\"};"],"sourceRoot":""}